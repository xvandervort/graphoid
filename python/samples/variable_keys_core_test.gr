#!/usr/bin/env glang

# Core variable keys test - minimal version

# Test variable keys in map literals
col_name = "name"
col_age = "age"

# This should work now - before it gave "Key must be a string literal"
person = { col_name: "Alice", col_age: 30 }

# Verify it worked
name_value = person["name"]
age_value = person["age"]

print("Variable keys test:")
print("Name: " + name_value)
print("Age: " + age_value.to_string())

# Test in DataFrame-like structure
columns = ["product", "price"]
inventory = {
    "_columns": columns
}

# Initialize using variables as keys
product_col = columns[0]
price_col = columns[1]

inventory[product_col] = []
inventory[price_col] = []

# Add data using variable keys in map literal
item = { product_col: "Laptop", price_col: 999.99 }
inventory[product_col].append(item[product_col])
inventory[price_col].append(item[price_col])

print("DataFrame test:")
print("Products: " + inventory["product"].to_string())
print("Prices: " + inventory["price"].to_string())